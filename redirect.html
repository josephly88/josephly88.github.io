<!DOCTYPE html>
<html>
<head>
  <title>Facebook Login Example</title>
  <meta charset="UTF-8">

</head>
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>

    let app_id = "2822937704419757";
    let redirect_uri = "https://josephly88.github.io/redirect";
    let app_secret = "3a10aaa3ddceb54f1fd25f1cb26a3b11";
    let state_param = "{st=state123abc,ds=123456789}";
    let code_parameter = "";

    function getcode(){
      let url = window.location.href;
      code_parameter = url.split(/([=&])/)[1];
      document.getElementById("demo").innerHTML = code_parameter;
    }

    function gettoken(){
      let link = "https://graph.facebook.com/v6.0/oauth/access_token?" + "client_id=" + app_id + "&redirect_uri=" + redirect_uri + "&client_secret=" + app_secret + "&code=" + code_parameter;
      $.get(link, function(data, status){
        console.log("status = " + status);
        console.log("data = " + data);
      });
    }

  </script>


  <h1>Redirection</h1>

  <button onclick="getcode()">Get Code</button>
  <button onclick="gettoken()">Get Access Token</button>

  <p id="demo"></p>

</body>
</html>