<!DOCTYPE html>
<html>
<head>
  <title>Facebook Login Example</title>
  <meta charset="UTF-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
  
  <script>

    let app_id = "2822937704419757";
    let redirect_uri = "https://josephly88.github.io/redirect";
    let app_secret = "3a10aaa3ddceb54f1fd25f1cb26a3b11";
    let state_param = "{st=state123abc,ds=123456789}";
    let url = window.location.href;
    code_parameter = url.split(/([=&])/)[2];

    function getcode(){
      document.getElementById("demo").innerHTML = code_parameter;
    }

    let link = "https://graph.facebook.com/v6.0/oauth/access_token?" + "client_id=" + app_id + "&redirect_uri=" + redirect_uri + "&client_secret=" + app_secret + "&code=" + code_parameter;

    $(document).ready(function(){
      $("#token").click(function(){
        $.get("demo_test.asp", function(data, status){
          alert("Data: " + data + "\nStatus: " + status);
        });
      });
    });
    

  </script>


  <h1>Redirection</h1>

  <button onclick="getcode()">Get Code</button>
  <button id="token">Get Access Token</button>

  <p id="demo"></p>

</body>
</html>